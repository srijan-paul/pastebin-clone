(this["webpackJsonppastebin-clone"]=this["webpackJsonppastebin-clone"]||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(0),c=n.n(s),i=n(50),r=n.n(i),o=n(16),l=n(17),j=n(20),u=n(19),d=n(18),h=n(14),b=n(6),p=n(12),m=n.n(p),x=(n(23),n(43),n(76),n(21)),O=c.a.createContext({name:"Guest",isGuest:!0}),f=O,g=O.Provider,v=(O.Consumer,n.p+"static/media/new-paste.1f60a9a2.svg"),w=n.p+"static/media/guest.a10932d3.svg",y=n.p+"static/media/member.eabadc3a.svg";function S(){var e=Object(s.useContext)(f),t=Object(b.e)();return Object(a.jsxs)("div",{className:"nav-bar",children:[Object(a.jsx)(x.b,{to:"/home",style:{textDecoration:"none",paddingTop:"20px"},children:Object(a.jsx)("h3",{className:"logo",children:"CLIP IT"})}),Object(a.jsx)("nav",{children:Object(a.jsxs)("div",{className:"nav-items",children:[Object(a.jsx)(N,{children:e.isGuest?Object(a.jsx)("a",{className:"nv-link",href:"/login",children:"Sign In"}):Object(a.jsx)(k,{user:e})}),Object(a.jsx)(C,{icon:e.isGuest?w:y,onClick:e.isGuest?null:function(){t.push("/user/"+e.name)}}),Object(a.jsx)(C,{icon:v,to:"/home"})]})})]})}function C(e){return Object(a.jsx)("div",{className:"nav-item",onClick:e.onClick,children:Object(a.jsx)(x.b,{className:"nav-button",to:e.to,children:Object(a.jsx)("img",{src:e.icon,alt:"icon",width:"30px"})})})}function N(e){var t=e.children;return Object(a.jsx)("div",{className:"nav-item",children:t})}function k(e){var t=e.user;return Object(a.jsx)("a",{className:"nv-link",href:"/user/"+t.name,children:t.name})}var I=n(22),P=n(7),L=n(34),R=n(52);m.a.defaults.headers.common={"Content-Type":"application/json"};var G=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).switchToSignUp=s.switchToSignUp.bind(Object(j.a)(s)),s.switchToLogIn=s.switchToLogIn.bind(Object(j.a)(s)),s.state={currentPanel:null,logInPanel:Object(a.jsx)(U,{onSwitch:s.switchToSignUp,updateUser:s.props.onUserLogIn}),signUpPanel:Object(a.jsx)(T,{onSwitch:s.switchToLogIn})},s}return Object(l.a)(n,[{key:"switchStateTo",value:function(e){this.setState({currentPanel:e})}},{key:"switchToSignUp",value:function(){this.setState({currentPanel:this.state.signUpPanel})}},{key:"switchToLogIn",value:function(){this.setState({currentPanel:this.state.logInPanel})}},{key:"componentDidMount",value:function(){this.setState({currentPanel:this.state.signUpPanel})}},{key:"render",value:function(){return Object(a.jsx)("div",{children:this.state.currentPanel})}}]),n}(s.Component);function T(e){var t=Object(s.useRef)(),n=Object(s.useRef)(),i=Object(s.useRef)(),r=c.a.useState(!0),o=Object(h.a)(r,2),l=o[0],j=o[1],u=c.a.useState(!0),d=Object(h.a)(u,2),b=d[0],p=d[1],x=c.a.useState(!0),O=Object(h.a)(x,2),f=O[0],g=O[1];function v(){var e=t.current.value;if(0===e.length)return!0;g(e.length>=6&&e.length<=14)}function w(){var e=n.current.value;j(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$ %^&*-_]).{8,21}$/.test(e))}function y(){var e=i.current.value,t=n.current.value;p(e===t&&t.length>0)}var S=c.a.useState(!0),C=Object(h.a)(S,2),N=C[0],k=C[1];var I=c.a.useState(!1),R=Object(h.a)(I,2),G=R[0],T=R[1];return Object(a.jsxs)(E,{children:[Object(a.jsx)("h2",{className:"text-center mb-4",children:" Sign Up "}),Object(a.jsxs)(P.a,{children:[Object(a.jsxs)(P.a.Group,{id:"username",children:[Object(a.jsx)(P.a.Label,{children:"Username"}),Object(a.jsx)(P.a.Control,{type:"text",ref:t,onChange:v,required:!0}),Object(a.jsxs)(D,{isVisible:!f,children:["Username must be between ",6,"-",14," characters. Only alphanumerics and '_' , '-' allowed.`"]})]}),Object(a.jsxs)(P.a.Group,{id:"password",children:[Object(a.jsx)(P.a.Label,{children:"Password"}),Object(a.jsx)(P.a.Control,{type:"password",ref:n,onChange:w,required:!0}),Object(a.jsxs)(D,{isVisible:!l,children:["Must have ",8," - ",20," eight characters, at least one upper and lower case English letter, one number and one special character."]})]}),Object(a.jsxs)(P.a.Group,{id:"passwod-confirm",children:[Object(a.jsx)(P.a.Label,{children:"Confirm Password"}),Object(a.jsx)(P.a.Control,{type:"password",ref:i,onChange:y,required:!0}),Object(a.jsx)(D,{isVisible:!b,children:"Passwords do not match."})]}),Object(a.jsx)(D,{isVisible:!N,children:"Fields cannot be empty."}),Object(a.jsx)(L.a,{className:"w-100 text-center mt-2",id:"sign-up-btn",onClick:function(){if(!G&&(v(),w(),y(),k(f&&l&&b&&t.current.value.length>0&&n.current.value.length>0),N)){var e=n.current.value,a=t.current.value;T(!0),m.a.post("/api/register",{username:a,password:e}).then((function(e){console.log("signed in successfully.")}))}},children:"Sign Up"})]}),Object(a.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account?",Object(a.jsx)(A,{onClick:e.onSwitch,text:"Log in"}),"."]})]})}function U(e){var t=c.a.createRef(),n=c.a.createRef();return Object(a.jsxs)(E,{children:[Object(a.jsx)("h2",{className:"text-center mb-4",children:" Log in "}),Object(a.jsxs)(P.a.Group,{id:"username",children:[Object(a.jsx)(P.a.Label,{children:"Username"}),Object(a.jsx)(P.a.Control,{type:"text",ref:t,required:!0})]}),Object(a.jsxs)(P.a.Group,{id:"passwod-confirm",children:[Object(a.jsx)(P.a.Label,{children:"Password"}),Object(a.jsx)(P.a.Control,{type:"password",ref:n,required:!0})]}),Object(a.jsx)(L.a,{className:"w-100 text-center mt-2",id:"log-in-btn",onClick:function(){var a=t.current.value,s=n.current.value,c={username:a,password:s};m.a.post("/api/login",c).then((function(t){t.data.success&&(e.updateUser({name:a,isGuest:!1}),sessionStorage.setItem("username",a),sessionStorage.setItem("sessionId",t.data.sessionId))})).catch((function(e){console.log("login failed: "+e.message)}))},children:"Log in"}),Object(a.jsxs)("div",{className:"w-100 text-center mt-2",children:["Don't have an account? ",Object(a.jsx)(A,{onClick:e.onSwitch,text:"Sign up"}),"."]})]})}function E(e){return Object(a.jsx)(R.a,{className:"d-flex justify-content-center",style:{minHeight:"100vh"},children:Object(a.jsx)("div",{style:{maxWidth:"400px",minWidth:"400px"},children:Object(a.jsx)(I.a,{children:Object(a.jsx)(I.a.Body,{children:e.children})})})})}function A(e){return Object(a.jsx)("div",{onClick:e.onClick,style:{cursor:"pointer"},className:"btn-link",children:e.text})}function D(e){return Object(a.jsx)("div",{children:e.isVisible?Object(a.jsx)(P.a.Text,{id:"passwordHelpBlock",muted:!0,children:Object(a.jsx)("span",{style:{color:"#d63031",fontWeight:"500"},children:e.children})}):""})}var z=n(26),V=n.n(z),B=new Map([["Javascript","javascript"],["Lua","lua"],["C","c_cpp"],["C++","c_cpp"],["Python","python"],["Java","java"],["C#","csharp"],["TSX","tsx"],["Scheme","scheme"],["Swift","swift"]]);function q(e){return Object(a.jsxs)("div",{className:"titlebar",children:[Object(a.jsx)(F,{color:"#e74c3c"}),Object(a.jsx)(F,{color:"#fbc531"}),Object(a.jsx)(F,{color:"#2ecc71"}),e.readOnly?Object(a.jsx)("div",{style:{display:"inline-block",float:"right",paddingRight:"13px"},children:e.filename}):Object(a.jsxs)("div",{style:{display:"inline-block",float:"right",marginRight:"4px"},children:[Object(a.jsx)(M,{onSelect:e.onLangChange}),Object(a.jsx)("input",{type:"text",id:"filename-input",placeholder:"filename",ref:e.fileNameRef})]})]})}var M=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).selector=document.getElementById("lang-sel"),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.selectEl=document.getElementById("lang-sel"),B.forEach((function(t,n){e.selectEl.options[e.selectEl.options.length]=new Option(n,t)}))}},{key:"render",value:function(){var e=this;return Object(a.jsx)("select",{name:"language",id:"lang-sel",onChange:function(){return e.props.onSelect(e.selectEl.value)}})}}]),n}(s.Component);function F(e){return Object(a.jsx)("div",{className:"dot",style:{backgroundColor:e.color,marginLeft:"10px"}})}var J=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).pasteId=e.match.params.pasteId,a.state={paste:null},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;m.a.get("/api/pastes/".concat(this.pasteId)).then((function(t){t.data.success&&e.setState({paste:t.data.paste})}))}},{key:"render",value:function(){return this.state.paste?Object(a.jsx)(_,{pasteData:this.state.paste}):Object(a.jsx)("div",{style:{width:"100%",margin:"auto",textAlign:"center"},children:Object(a.jsx)("img",{src:"https://prostart.me/wp-content/uploads/2018/03/Loading-screen-transparent-V2.gif",alt:"loading..."})})}}]),n}(s.Component);function _(e){var t=e.pasteData;return Object(a.jsxs)("div",{className:"editor",children:[Object(a.jsx)(q,{readOnly:!0,filename:t.filename}),Object(a.jsx)(V.a,{mode:t.language,theme:"textmate",name:"editor-view",fontSize:16,width:"100%",height:"500px",fontFamily:"monospace",readOnly:!0,value:t.content})]})}var H=n.p+"static/media/logo.7c7338d8.svg";function W(e){return Object(a.jsx)("div",{className:"logo",style:{textAlign:"center"},children:Object(a.jsxs)("h1",{className:"heading",style:{fontSize:e.fontSize},children:[Object(a.jsx)("img",{src:H,alt:"logo",width:e.logoSize,height:"auto",style:{verticalAlign:"middle"}}),"\xa0CLIP IT !"]})})}n(87),n(88),n(89),n(91),n(92),n(93),n(94),n(95),n(96),n(97),n(98),n(99),n(100);var $=n.p+"static/media/user-pfp-default.a785bc1b.png";function X(e){var t=e.match.params.name,n=c.a.useState(null),s=Object(h.a)(n,2),i=s[0],r=s[1];return c.a.useEffect((function(){m.a.get("/api/users/"+t).then((function(e){e.data.success&&r(e.data.data)}))}),[]),i?Object(a.jsx)("div",{style:{width:"100%",margin:"auto",textAlign:"center"},children:Object(a.jsx)(Z,{userData:i})}):Object(a.jsx)("div",{style:{textAlign:"center"},children:Object(a.jsx)("img",{src:"https://prostart.me/wp-content/uploads/2018/03/Loading-screen-transparent-V2.gif",alt:"loading..."})})}function Z(e){var t=e.userData;return Object(a.jsx)(I.a,{style:{width:"100%",minHeight:"100px"},children:Object(a.jsx)(I.a.Body,{children:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{style:{flex:"0.2",textAlign:"center",marginBottom:"20px"},children:Object(a.jsx)("img",{src:$,alt:"Avatar",width:"20%",style:{borderRadius:"50%"}})}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:t.name}),Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{style:{textAlign:"left",paddingLeft:"4%"},children:[Object(a.jsxs)("h5",{children:["Pastes created by ",t.name,":"]}),t.pastes.map((function(e){return Object(a.jsx)(K,{paste:e})}))]})]})]})})})}function K(e){var t=e.paste;return Object(a.jsx)("div",{children:Object(a.jsx)("a",{href:"/paste/"+t.id,children:t.name})})}function Q(){var e=c.a.useState({name:"Guest",isGuest:!0}),t=Object(h.a)(e,2),n=t[0],s=t[1],i=Object(b.e)();function r(e){m.a.post("/api/paste",{filename:e.filename,content:e.content,language:e.language,isGuestPost:n.isGuest,username:n.name,isPublic:!0}).then((function(e){i.push("/paste/"+e.data.id)})).catch((function(e){console.log(e)}))}return c.a.useEffect((function(){var e=sessionStorage.getItem("username"),t=sessionStorage.getItem("sessionId");e&&t&&m.a.post("/api/users/authenticate",{username:e,sessionId:t}).then((function(n){n.data.success&&s({name:e,isGuest:!1,sessionId:t})})).catch((function(e){console.log("Failed to authenticate user from local storage: "+e.message)}))}),[]),Object(a.jsx)("div",{className:"main",children:Object(a.jsxs)(g,{value:n,children:[Object(a.jsx)(S,{}),Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)(b.a,{path:"/login",render:function(){return Object(a.jsx)(G,{onUserLogIn:s})}}),Object(a.jsx)(b.a,{path:"/",exact:!0,render:function(){return Object(a.jsx)(Y,{newPaste:r})}}),Object(a.jsx)(b.a,{path:"/home",exact:!0,render:function(){return Object(a.jsx)(Y,{newPaste:r})}}),Object(a.jsx)(b.a,{path:"/paste/:pasteId",component:J}),Object(a.jsx)(b.a,{path:"/user/:name",component:X})]})]})})}function Y(e){var t=e.newPaste;return Object(a.jsxs)("div",{children:[Object(a.jsx)(ee,{}),Object(a.jsx)(te,{newPaste:t})]})}function ee(){return Object(a.jsxs)("div",{className:"d8",children:[Object(a.jsx)(W,{fontSize:"3rem",logoSize:"7%"}),Object(a.jsx)("p",{className:"info",children:"Share text and code snippets with the click of a button!"})]})}m.a.defaults.headers.common={"Content-Type":"application/json"};var te=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={lang:"javascript",filename:"untitled"},a.codeRef=c.a.createRef(),a.fileNameRef=c.a.createRef(),a.onSubmit=a.onSubmit.bind(Object(j.a)(a)),a}return Object(l.a)(n,[{key:"onSubmit",value:function(){var e=this.codeRef.current.editor.getValue();e.length<10||this.props.newPaste({content:e,language:this.state.lang,filename:this.fileNameRef.current.value})}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"editor-wrapper",children:[Object(a.jsxs)("div",{className:"editor",children:[Object(a.jsx)(q,{onLangChange:function(t){e.setState({lang:t})},fileNameRef:this.fileNameRef}),Object(a.jsx)("div",{id:"textarea-wrapper",children:Object(a.jsx)(V.a,{mode:this.state.lang||"java",theme:"textmate",name:"editor",fontSize:16,width:"100%",height:"500px",fontFamily:"monospace",ref:this.codeRef})})]}),Object(a.jsx)(ne,{onSubmit:this.onSubmit})]})}}]),n}(s.Component);function ne(e){var t=c.a.useState(!0),n=Object(h.a)(t,2),s=n[0],i=n[1];return Object(a.jsx)("div",{className:"control-wrapper",children:Object(a.jsx)(L.a,{variant:"outline-info",onClick:function(){s&&(e.onSubmit(),i(!1))},children:"Create paste"})})}n(101);r.a.render(Object(a.jsx)(x.a,{children:Object(a.jsx)(Q,{})}),document.getElementById("root"))},23:function(e,t,n){},43:function(e,t,n){},76:function(e,t,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.38ba9a4e.chunk.js.map